import urllib2
import urllib
import json
import sys
import exceptions
import locale
import config
import systems
import ships
from datetime import datetime
import time
import os
import signal
locale.setlocale(locale.LC_ALL, 'en_US') #config.config_locale
output = []
data = []
record = '{"allTimeSum":2718,"groups":{"25":{"groupID":25,"shipsLost":144,"pointsLost":1271,"iskLost":4440357598,"shipsDestroyed":280,"pointsDestroyed":1057,"iskDestroyed":6273185051},"26":{"groupID":26,"shipsLost":281,"pointsLost":2023,"iskLost":22566790295,"shipsDestroyed":308,"pointsDestroyed":1164,"iskDestroyed":32256244762},"27":{"groupID":27,"shipsLost":58,"pointsLost":817,"iskLost":26639446590,"shipsDestroyed":360,"pointsDestroyed":692,"iskDestroyed":191846246232},"28":{"groupID":28,"shipsLost":24,"pointsLost":471,"iskLost":559247161,"shipsDestroyed":17,"pointsDestroyed":63,"iskDestroyed":750479894},"29":{"groupID":29,"shipsLost":615,"pointsLost":615,"iskLost":20801600858,"shipsDestroyed":572,"pointsDestroyed":572,"iskDestroyed":17398293016},"31":{"groupID":31,"shipsLost":22,"pointsLost":85,"iskLost":3055502,"shipsDestroyed":9,"pointsDestroyed":24,"iskDestroyed":207846},"237":{"groupID":237,"shipsLost":51,"pointsLost":275,"iskLost":118413891,"shipsDestroyed":58,"pointsDestroyed":210,"iskDestroyed":178744753},"324":{"groupID":324,"shipsLost":27,"pointsLost":124,"iskLost":1050928823,"shipsDestroyed":26,"pointsDestroyed":108,"iskDestroyed":1020853297},"358":{"groupID":358,"shipsLost":58,"pointsLost":319,"iskLost":15855050095,"shipsDestroyed":49,"pointsDestroyed":95,"iskDestroyed":13148962237},"365":{"groupID":365,"shipsLost":2,"pointsLost":2,"iskLost":345181213,"shipsDestroyed":7,"pointsDestroyed":7,"iskDestroyed":1644321229},"380":{"groupID":380,"shipsLost":3,"pointsLost":168,"iskLost":1037010932,"shipsDestroyed":2,"pointsDestroyed":5,"iskDestroyed":431999242},"413":{"groupID":413,"shipsLost":2,"pointsLost":2,"iskLost":112792440},"419":{"groupID":419,"shipsLost":77,"pointsLost":1257,"iskLost":7249321600,"shipsDestroyed":83,"pointsDestroyed":467,"iskDestroyed":9023446283},"420":{"groupID":420,"shipsLost":51,"pointsLost":491,"iskLost":374326309,"shipsDestroyed":120,"pointsDestroyed":574,"iskDestroyed":1230870805},"444":{"groupID":444,"shipsLost":4,"pointsLost":4,"iskLost":15776519,"shipsDestroyed":20,"pointsDestroyed":20,"iskDestroyed":100761623},"463":{"groupID":463,"shipsLost":29,"pointsLost":1265,"iskLost":1099218995,"shipsDestroyed":39,"pointsDestroyed":508,"iskDestroyed":1526398775},"540":{"groupID":540,"shipsLost":3,"pointsLost":3,"iskLost":1304254522,"shipsDestroyed":7,"pointsDestroyed":7,"iskDestroyed":3419702142},"541":{"groupID":541,"shipsLost":28,"pointsLost":223,"iskLost":1887374836,"shipsDestroyed":55,"pointsDestroyed":222,"iskDestroyed":3869745371},"543":{"groupID":543,"shipsLost":10,"pointsLost":323,"iskLost":2259090409,"shipsDestroyed":14,"pointsDestroyed":154,"iskDestroyed":3043222053},"547":{"groupID":547,"shipsLost":5,"pointsLost":80,"iskLost":12443362726,"shipsDestroyed":5,"pointsDestroyed":8,"iskDestroyed":12941174840},"830":{"groupID":830,"shipsLost":11,"pointsLost":101,"iskLost":512071790,"shipsDestroyed":15,"pointsDestroyed":74,"iskDestroyed":822638511},"831":{"groupID":831,"shipsLost":134,"pointsLost":1049,"iskLost":5000187653,"shipsDestroyed":96,"pointsDestroyed":334,"iskDestroyed":4738968905},"832":{"groupID":832,"shipsLost":13,"pointsLost":33,"iskLost":3179076081,"shipsDestroyed":69,"pointsDestroyed":76,"iskDestroyed":19957135572},"833":{"groupID":833,"shipsLost":5,"pointsLost":12,"iskLost":1782196494,"shipsDestroyed":8,"pointsDestroyed":28,"iskDestroyed":2056312111},"834":{"groupID":834,"shipsLost":45,"pointsLost":397,"iskLost":1765539975,"shipsDestroyed":52,"pointsDestroyed":218,"iskDestroyed":2240395328},"893":{"groupID":893,"shipsLost":11,"pointsLost":51,"iskLost":583306300,"shipsDestroyed":16,"pointsDestroyed":32,"iskDestroyed":1034774640},"894":{"groupID":894,"shipsLost":2,"pointsLost":3,"iskLost":760500418,"shipsDestroyed":19,"pointsDestroyed":19,"iskDestroyed":8220167246},"898":{"groupID":898,"shipsLost":2,"pointsLost":8,"iskLost":2401137338,"shipsDestroyed":2,"pointsDestroyed":8,"iskDestroyed":2273625595},"902":{"groupID":902,"shipsLost":2,"pointsLost":36,"iskLost":16065462215},"906":{"groupID":906,"shipsLost":3,"pointsLost":29,"iskLost":640521152,"shipsDestroyed":24,"pointsDestroyed":41,"iskDestroyed":8625197418},"941":{"groupID":941,"shipsLost":1,"pointsLost":51,"iskLost":741745803,"shipsDestroyed":1,"pointsDestroyed":6,"iskDestroyed":784108748},"963":{"groupID":963,"shipsLost":12,"pointsLost":40,"iskLost":6951555791,"shipsDestroyed":60,"pointsDestroyed":83,"iskDestroyed":45628753813},"1201":{"groupID":1201,"shipsLost":3,"pointsLost":94,"iskLost":398180857,"shipsDestroyed":26,"pointsDestroyed":131,"iskDestroyed":3713192689},"1202":{"groupID":1202,"shipsLost":17,"pointsLost":263,"iskLost":4655598665,"shipsDestroyed":6,"pointsDestroyed":11,"iskDestroyed":1499214670},"1246":{"groupID":1246,"shipsLost":3,"pointsLost":3,"iskLost":4795834,"shipsDestroyed":1,"pointsDestroyed":1,"iskDestroyed":1369712},"1250":{"groupID":1250,"shipsLost":43,"pointsLost":43,"iskLost":1223610678,"shipsDestroyed":20,"pointsDestroyed":20,"iskDestroyed":340562999},"1273":{"groupID":1273,"shipsLost":4,"pointsLost":4,"iskLost":97465564,"shipsDestroyed":8,"pointsDestroyed":8,"iskDestroyed":192240110},"1305":{"groupID":1305,"shipsLost":71,"pointsLost":589,"iskLost":5835457669,"shipsDestroyed":124,"pointsDestroyed":354,"iskDestroyed":11119994747},"1527":{"groupID":1527,"shipsLost":5,"pointsLost":11,"iskLost":287803455,"shipsDestroyed":4,"pointsDestroyed":4,"iskDestroyed":218175731},"1652":{"groupID":1652,"shipsLost":5,"pointsLost":5,"iskLost":32042297,"shipsDestroyed":19,"pointsDestroyed":19,"iskDestroyed":109748969},"311":{"groupID":311,"shipsDestroyed":1,"pointsDestroyed":1,"iskDestroyed":55146043},"363":{"groupID":363,"shipsDestroyed":3,"pointsDestroyed":3,"iskDestroyed":1041202641},"404":{"groupID":404,"shipsDestroyed":4,"pointsDestroyed":4,"iskDestroyed":32249985},"416":{"groupID":416,"shipsDestroyed":2,"pointsDestroyed":2,"iskDestroyed":53607776},"449":{"groupID":449,"shipsDestroyed":5,"pointsDestroyed":5,"iskDestroyed":48553549},"485":{"groupID":485,"shipsDestroyed":11,"pointsDestroyed":32,"iskDestroyed":34937551905},"659":{"groupID":659,"shipsDestroyed":1,"pointsDestroyed":1,"iskDestroyed":28615367761},"900":{"groupID":900,"shipsDestroyed":7,"pointsDestroyed":97,"iskDestroyed":15368412528,"shipsLost":1,"pointsLost":51,"iskLost":1803823671},"1025":{"groupID":1025,"shipsDestroyed":5,"pointsDestroyed":5,"iskDestroyed":156165149},"1212":{"groupID":1212,"shipsDestroyed":3,"pointsDestroyed":3,"iskDestroyed":52387680},"1282":{"groupID":1282,"shipsDestroyed":1,"pointsDestroyed":1,"iskDestroyed":39644974},"1283":{"groupID":1283,"shipsDestroyed":2,"pointsDestroyed":32,"iskDestroyed":64278921},"1534":{"groupID":1534,"shipsDestroyed":13,"pointsDestroyed":32,"iskDestroyed":1214941625,"shipsLost":2,"pointsLost":2,"iskLost":174137562},"1657":{"groupID":1657,"shipsDestroyed":3,"pointsDestroyed":3,"iskDestroyed":323538759451},"443":{"groupID":443,"shipsDestroyed":9,"pointsDestroyed":9,"iskDestroyed":26313643},"441":{"groupID":441,"shipsDestroyed":3,"pointsDestroyed":3,"iskDestroyed":7350016},"837":{"groupID":837,"shipsDestroyed":1,"pointsDestroyed":1,"iskDestroyed":1751387},"439":{"groupID":439,"shipsDestroyed":1,"pointsDestroyed":1,"iskDestroyed":2377443},"471":{"groupID":471,"shipsDestroyed":1,"pointsDestroyed":1,"iskDestroyed":3329741},"397":{"groupID":397,"shipsDestroyed":3,"pointsDestroyed":3,"iskDestroyed":1813494216},"1537":{"groupID":1537,"shipsLost":2,"pointsLost":2,"iskLost":31572986},"430":{"groupID":430,"shipsDestroyed":20,"pointsDestroyed":20,"iskDestroyed":41947750},"426":{"groupID":426,"shipsDestroyed":2,"pointsDestroyed":2,"iskDestroyed":4873574},"1538":{"groupID":1538,"shipsDestroyed":15,"pointsDestroyed":15,"iskDestroyed":38822431711},"1653":{"groupID":1653,"shipsDestroyed":1,"pointsDestroyed":1,"iskDestroyed":25029177}},"hasSupers":true,"id":98195010,"iskDestroyed":859648605638,"iskLost":175090391580,"months":{"201304":{"year":2013,"month":4,"shipsLost":1,"pointsLost":7,"iskLost":7985025},"201405":{"year":2014,"month":5,"shipsLost":8,"pointsLost":41,"iskLost":597330533},"201407":{"year":2014,"month":7,"shipsLost":3,"pointsLost":11,"iskLost":2287241},"201408":{"year":2014,"month":8,"shipsLost":1,"pointsLost":8,"iskLost":1737312},"201411":{"year":2014,"month":11,"shipsLost":3,"pointsLost":42,"iskLost":127709106,"shipsDestroyed":10,"pointsDestroyed":117,"iskDestroyed":226982045},"201412":{"year":2014,"month":12,"shipsLost":2,"pointsLost":20,"iskLost":76978536,"shipsDestroyed":8,"pointsDestroyed":62,"iskDestroyed":231346824},"201501":{"year":2015,"month":1,"shipsLost":1,"pointsLost":1,"iskLost":149461168},"201503":{"year":2015,"month":3,"shipsLost":3,"pointsLost":86,"iskLost":230787389,"shipsDestroyed":3,"pointsDestroyed":30,"iskDestroyed":44311327},"201504":{"year":2015,"month":4,"shipsLost":2,"pointsLost":25,"iskLost":243203488},"201506":{"year":2015,"month":6,"shipsLost":4,"pointsLost":15,"iskLost":674445685},"201507":{"year":2015,"month":7,"shipsLost":27,"pointsLost":392,"iskLost":2263655050,"shipsDestroyed":1,"pointsDestroyed":195,"iskDestroyed":193063028},"201508":{"year":2015,"month":8,"shipsLost":64,"pointsLost":643,"iskLost":5120553311,"shipsDestroyed":17,"pointsDestroyed":86,"iskDestroyed":1378248225},"201509":{"year":2015,"month":9,"shipsLost":129,"pointsLost":1246,"iskLost":10757322031,"shipsDestroyed":74,"pointsDestroyed":487,"iskDestroyed":3771192528},"201510":{"year":2015,"month":10,"shipsLost":132,"pointsLost":1438,"iskLost":9680517443,"shipsDestroyed":94,"pointsDestroyed":392,"iskDestroyed":6540802291},"201511":{"year":2015,"month":11,"shipsLost":67,"pointsLost":548,"iskLost":5182582922,"shipsDestroyed":39,"pointsDestroyed":400,"iskDestroyed":2199506804},"201512":{"year":2015,"month":12,"shipsLost":139,"pointsLost":1103,"iskLost":10368471919,"shipsDestroyed":83,"pointsDestroyed":368,"iskDestroyed":5884597194},"201601":{"year":2016,"month":1,"shipsLost":176,"pointsLost":1001,"iskLost":9715421195,"shipsDestroyed":257,"pointsDestroyed":535,"iskDestroyed":29952859590},"201602":{"year":2016,"month":2,"shipsLost":157,"pointsLost":975,"iskLost":11027229202,"shipsDestroyed":168,"pointsDestroyed":578,"iskDestroyed":9660189004},"201603":{"year":2016,"month":3,"shipsLost":126,"pointsLost":845,"iskLost":10896319015,"shipsDestroyed":197,"pointsDestroyed":503,"iskDestroyed":34075242237},"201604":{"year":2016,"month":4,"shipsLost":238,"pointsLost":1253,"iskLost":25848236009,"shipsDestroyed":287,"pointsDestroyed":926,"iskDestroyed":32549069073},"201605":{"year":2016,"month":5,"shipsLost":140,"pointsLost":708,"iskLost":23952270941,"shipsDestroyed":157,"pointsDestroyed":529,"iskDestroyed":13011858389},"201606":{"year":2016,"month":6,"shipsLost":68,"pointsLost":347,"iskLost":4787361049,"shipsDestroyed":78,"pointsDestroyed":382,"iskDestroyed":61854395658},"201607":{"year":2016,"month":7,"shipsLost":93,"pointsLost":289,"iskLost":9347476086,"shipsDestroyed":198,"pointsDestroyed":269,"iskDestroyed":48082913909},"201608":{"year":2016,"month":8,"shipsLost":61,"pointsLost":275,"iskLost":8535451697,"shipsDestroyed":112,"pointsDestroyed":314,"iskDestroyed":318059825904},"201404":{"year":2014,"month":4,"shipsDestroyed":1,"pointsDestroyed":1,"iskDestroyed":10000},"201609":{"year":2016,"month":9,"shipsDestroyed":228,"pointsDestroyed":343,"iskDestroyed":47184190284,"shipsLost":74,"pointsLost":440,"iskLost":9648492303},"201610":{"year":2016,"month":10,"shipsLost":99,"pointsLost":553,"iskLost":7465582948,"shipsDestroyed":380,"pointsDestroyed":646,"iskDestroyed":103814218232},"201611":{"year":2016,"month":11,"shipsDestroyed":326,"pointsDestroyed":538,"iskDestroyed":140933783084,"shipsLost":73,"pointsLost":383,"iskLost":8381522963}},"pointsDestroyed":7701,"pointsLost":12695,"sequence":34533486,"shipsDestroyed":2718,"shipsLost":1891,"supers":{"titans":{"data":null,"title":"Titans"},"supercarriers":{"data":[{"kills":1,"characterID":93407569,"characterName":"Watwor"}],"title":"Supercarriers"}},"topAllTime":[{"type":"character","data":[{"kills":642,"characterID":94526708,"characterName":"Sele Reichel"},{"kills":554,"characterID":91398304,"characterName":"Lado Rus"},{"kills":518,"characterID":95067561,"characterName":"Bron Jan Escobar"},{"kills":296,"characterID":117263954,"characterName":"kLey I"},{"kills":288,"characterID":94637506,"characterName":"Grillevierfuss0 Iwaira"},{"kills":253,"characterID":93433303,"characterName":"Lisa Wayned"},{"kills":213,"characterID":94323668,"characterName":"Gangolf Ovaert"},{"kills":193,"characterID":1796895521,"characterName":"Urisuki"},{"kills":191,"characterID":95346236,"characterName":"Troci Koraka"},{"kills":172,"characterID":1766776164,"characterName":"Mellt Taran"}]},{"type":"corporation","data":[{"kills":2720,"corporationID":98195010,"corporationName":"Krautfleet"}]},{"type":"alliance","data":[{"kills":1325,"allianceID":99006364,"allianceName":"Das Fornax Protektorat"},{"kills":1105,"allianceID":1354830081,"allianceName":"Goonswarm Federation"},{"kills":197,"allianceID":99000614,"allianceName":"The Unthinkables"},{"kills":8,"allianceID":99004886,"allianceName":"Warp to Cyno."}]},{"type":"faction","data":[]},{"type":"ship","data":[{"kills":329,"shipTypeID":34562,"shipName":"Svipul","groupID":"1305","groupName":"Tactical Destroyer"},{"kills":292,"shipTypeID":621,"shipName":"Caracal","groupID":"26","groupName":"Cruiser"},{"kills":269,"shipTypeID":17738,"shipName":"Machariel","groupID":"27","groupName":"Battleship"},{"kills":244,"shipTypeID":11198,"shipName":"Stiletto","groupID":"831","groupName":"Interceptor"},{"kills":179,"shipTypeID":24702,"shipName":"Hurricane","groupID":"419","groupName":"Combat Battlecruiser"},{"kills":173,"shipTypeID":12023,"shipName":"Deimos","groupID":"358","groupName":"Heavy Assault Cruiser"},{"kills":150,"shipTypeID":670,"shipName":"Capsule","groupID":"29","groupName":"Capsule"},{"kills":113,"shipTypeID":22456,"shipName":"Sabre","groupID":"541","groupName":"Interdictor"},{"kills":112,"shipTypeID":29988,"shipName":"Proteus","groupID":"963","groupName":"Strategic Cruiser"},{"kills":112,"shipTypeID":17720,"shipName":"Cynabal","groupID":"26","groupName":"Cruiser"}]},{"type":"system","data":[{"kills":229,"solarSystemID":30000186,"solarSystemName":"Oijanen","sunTypeID":"3802","solarSystemSecurity":"0.4","systemColorCode":"#E58000","regionID":10000002,"regionName":"The Forge"},{"kills":216,"solarSystemID":30002813,"solarSystemName":"Tama","sunTypeID":"3802","solarSystemSecurity":"0.3","systemColorCode":"#F66301","regionID":10000033,"regionName":"The Citadel"},{"kills":112,"solarSystemID":30005171,"solarSystemName":"O-QKSM","sunTypeID":"3802","solarSystemSecurity":"-0.4","systemColorCode":"#F30202","regionID":10000066,"regionName":"Perrigen Falls"},{"kills":100,"solarSystemID":30001984,"solarSystemName":"EC-P8R","sunTypeID":"3802","solarSystemSecurity":"-0.4","systemColorCode":"#F30202","regionID":10000023,"regionName":"Pure Blind"},{"kills":88,"solarSystemID":30002042,"solarSystemName":"KU5R-W","sunTypeID":"3802","solarSystemSecurity":"-0.2","systemColorCode":"#F30202","regionID":10000023,"regionName":"Pure Blind"},{"kills":83,"solarSystemID":30002123,"solarSystemName":"GXK-7F","sunTypeID":"3802","solarSystemSecurity":"-0.3","systemColorCode":"#F30202","regionID":10000025,"regionName":"Immensea"},{"kills":42,"solarSystemID":30003982,"solarSystemName":"K-L690","sunTypeID":"3802","solarSystemSecurity":"-0.0","systemColorCode":"#F30202","regionID":10000050,"regionName":"Querious"},{"kills":41,"solarSystemID":30002036,"solarSystemName":"D2-HOS","sunTypeID":"3802","solarSystemSecurity":"-0.0","systemColorCode":"#F30202","regionID":10000023,"regionName":"Pure Blind"},{"kills":37,"solarSystemID":30045344,"solarSystemName":"Nennamaila","sunTypeID":"3802","solarSystemSecurity":"0.3","systemColorCode":"#F66301","regionID":10000069,"regionName":"Black Rise"},{"kills":36,"solarSystemID":30004065,"solarSystemName":"PPG-XC","sunTypeID":"3802","solarSystemSecurity":"-0.0","systemColorCode":"#F30202","regionID":10000051,"regionName":"Cloud Ring"}]}],"type":"corporationID","activepvp":{"characters":{"type":"Characters","count":13},"ships":{"type":"Ships","count":21},"systems":{"type":"Systems","count":15},"regions":{"type":"Regions","count":10},"kills":{"type":"Total Kills","count":208}},"info":{"allianceID":99006364,"ceoID":91398304,"factionID":0,"id":98195010,"killID":54592384,"lastApiUpdate":{"sec":1479537477,"usec":0},"memberCount":147,"name":"Krautfleet","ticker":"PZBTL","type":"corporationID"}}'
data = json.loads(record)
for record in data.iteritems():
	output = 'something, something {1} ISK' locale.format('%d', data['iskDestroyed'], grouping=True)
	print output

